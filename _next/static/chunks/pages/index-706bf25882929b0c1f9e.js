(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405,179],{2137:function(e,n,t){"use strict";function r(e,n,t,r,a,i,o){try{var c=e[i](o),s=c.value}catch(u){return void t(u)}c.done?n(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise((function(a,i){var o=e.apply(n,t);function c(e){r(o,a,i,c,s,"next",e)}function s(e){r(o,a,i,c,s,"throw",e)}c(void 0)}))}}t.d(n,{Z:function(){return a}})},6071:function(e,n,t){"use strict";var r=t(3038),a=t(862);n.default=void 0;var i=a(t(7294)),o=t(1689),c=t(2441),s=t(5749),u={};function l(e,n,t,r){if(e&&(0,o.isLocalURL)(n)){e.prefetch(n,t,r).catch((function(e){0}));var a=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;u[n+"%"+t+(a?"%"+a:"")]=!0}}var f=function(e){var n=!1!==e.prefetch,t=(0,c.useRouter)(),a=t&&t.pathname||"/",f=i.default.useMemo((function(){var n=(0,o.resolveHref)(a,e.href,!0),t=r(n,2),i=t[0],c=t[1];return{href:i,as:e.as?(0,o.resolveHref)(a,e.as):c||i}}),[a,e.href,e.as]),d=f.href,p=f.as,v=e.children,h=e.replace,m=e.shallow,y=e.scroll,g=e.locale;"string"===typeof v&&(v=i.default.createElement("a",null,v));var x=i.Children.only(v),w=x&&"object"===typeof x&&x.ref,E=(0,s.useIntersection)({rootMargin:"200px"}),b=r(E,2),j=b[0],_=b[1],k=i.default.useCallback((function(e){j(e),w&&("function"===typeof w?w(e):"object"===typeof w&&(w.current=e))}),[w,j]);(0,i.useEffect)((function(){var e=_&&n&&(0,o.isLocalURL)(d),r="undefined"!==typeof g?g:t&&t.locale,a=u[d+"%"+p+(r?"%"+r:"")];e&&!a&&l(t,d,p,{locale:r})}),[p,d,_,g,n,t]);var L={ref:k,onClick:function(e){x.props&&"function"===typeof x.props.onClick&&x.props.onClick(e),e.defaultPrevented||function(e,n,t,r,a,i,c,s){("A"!==e.currentTarget.nodeName||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(t))&&(e.preventDefault(),null==c&&(c=r.indexOf("#")<0),n[a?"replace":"push"](t,r,{shallow:i,locale:s,scroll:c}))}(e,t,d,p,h,m,y,g)},onMouseEnter:function(e){(0,o.isLocalURL)(d)&&(x.props&&"function"===typeof x.props.onMouseEnter&&x.props.onMouseEnter(e),l(t,d,p,{priority:!0}))}};if(e.passHref||"a"===x.type&&!("href"in x.props)){var N="undefined"!==typeof g?g:t&&t.locale,C=t&&t.isLocaleDomain&&(0,o.getDomainLocale)(p,N,t&&t.locales,t&&t.domainLocales);L.href=C||(0,o.addBasePath)((0,o.addLocale)(p,N,t&&t.defaultLocale))}return i.default.cloneElement(x,L)};n.default=f},5749:function(e,n,t){"use strict";var r=t(3038);n.__esModule=!0,n.useIntersection=function(e){var n=e.rootMargin,t=e.disabled||!o,s=(0,a.useRef)(),u=(0,a.useState)(!1),l=r(u,2),f=l[0],d=l[1],p=(0,a.useCallback)((function(e){s.current&&(s.current(),s.current=void 0),t||f||e&&e.tagName&&(s.current=function(e,n,t){var r=function(e){var n=e.rootMargin||"",t=c.get(n);if(t)return t;var r=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var n=r.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return c.set(n,t={id:n,observer:a,elements:r}),t}(t),a=r.id,i=r.observer,o=r.elements;return o.set(e,n),i.observe(e),function(){o.delete(e),i.unobserve(e),0===o.size&&(i.disconnect(),c.delete(a))}}(e,(function(e){return e&&d(e)}),{rootMargin:n}))}),[t,n,f]);return(0,a.useEffect)((function(){if(!o&&!f){var e=(0,i.requestIdleCallback)((function(){return d(!0)}));return function(){return(0,i.cancelIdleCallback)(e)}}}),[f]),[p,f]};var a=t(7294),i=t(8391),o="undefined"!==typeof IntersectionObserver;var c=new Map},8474:function(e,n,t){"use strict";t.r(n);var r=t(7757),a=t.n(r),i=t(2137),o=t(5893),c=t(1664),s=t(1770),u=[.6,-.05,.01,.99],l={initial:{y:60,opacity:0,transition:{duration:.6,ease:u}},animate:{y:0,opacity:1,transition:{duration:.6,ease:u}}},f={animate:{transition:{staggerChildren:.1}}},d=function(e){return(0,o.jsx)(s.E.div,{initial:"initial",animate:"animate",exit:{opacity:0},children:(0,o.jsxs)("div",{className:"container center",children:[(0,o.jsx)(s.E.div,{animate:{opacity:1},initial:{opacity:0},className:"title",children:(0,o.jsx)("h1",{children:"Select a protein"})}),(0,o.jsx)(s.E.div,{variants:f,className:"product-row",children:e.products.map((function(e){return(0,o.jsx)(c.default,{href:"/products/[id]",as:"/products/".concat(e.id),children:(0,o.jsxs)(s.E.div,{variants:l,whileHover:{scale:1.05},whileTap:{scale:.95},className:"card",children:[(0,o.jsx)("span",{className:"category",children:"Protein"}),(0,o.jsx)(s.E.img,{initial:{x:60,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},src:e.image,width:250},e.image),(0,o.jsxs)("div",{className:"product-info",children:[(0,o.jsx)("h4",{children:e.name}),(0,o.jsx)("span",{children:e.price})]})]})},e.id)}))})]})})};d.getInitialProps=(0,i.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://my-json-server.typicode.com/wrongakram/demo/products");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",{products:t});case 7:case"end":return e.stop()}}),e)}))),n.default=d},8581:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8474)}])},1664:function(e,n,t){e.exports=t(6071)},4453:function(){}},function(e){e.O(0,[774,597,427,770],(function(){return n=8581,e(e.s=n);var n}));var n=e.O();_N_E=n}]);